<?xml version="1.0" encoding="UTF-8"?>
<!--
 * File           : $Header: //depot/escenic/widget-framework/trunk/widget-framework-core/src/main/webapp/META-INF/escenic/publication-resources/escenic/content-type#2 $
 * Last edited by : $Author: shah $ $Date: 2010/05/10 $
 * Version        : $Revision: #2 $
 *
 * Copyright (C) 2009 Escenic AS.
 * All Rights Reserved.  No use, copying or distribution of this
 * work may be made except in accordance with a valid license
 * agreement from Escenic AS.  This notice must be included on
 * all copies, modifications and derivatives of this work.
-->

<content-types xmlns="http://xmlns.escenic.com/2008/content-type"
               xmlns:ui="http://xmlns.escenic.com/2008/interface-hints"
               xmlns:geocode="http://xmlns.escenic.com/2009/studio/plugin/geocode"
               xmlns:rep="http://xmlns.escenic.com/2009/representations"
               version="4">
  <!-- field groups for trailers widget -->
  <field-group name="trailers-widget-general-fields">
    <field name="view" type="enumeration">
      <ui:label>View</ui:label>
      <ui:description>The view used to render the widget</ui:description>
      <enumeration value="row"/>
      <enumeration value="column"/>
      <enumeration value="newsletter"/>
      <ui:value-if-unset>row</ui:value-if-unset>
    </field>
    <field name="groupName" type="basic" mime-type="text/plain">
      <ui:label>Group name</ui:label>
      <ui:description>The name of the group from which will act as a source of the articles</ui:description>
      <constraints>
        <required>true</required>
      </constraints>
    </field>
  </field-group>

  <field-group name="trailers-widget-row-fields">
    <field name="maxTrailersRow" type="number">
      <ui:label>Number of trailers</ui:label>
      <ui:description>The number of trailers to be shown in the widget</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>##</format>
      <ui:value-if-unset>3</ui:value-if-unset>
    </field>

    <field name="showSectionNameRow" type="boolean">
      <ui:label>Show section name</ui:label>
      <ui:description>When enabled, the home section of the first article is shown on top of the trailer
      </ui:description>
      <ui:boolean-label value="true">Show the name of the section</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the section name</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="showCommentCountRow" type="boolean">
      <ui:label>Show Comment Count</ui:label>
      <ui:description>Boolean value to indicate if we should show comment count</ui:description>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
    <field name="trailerWidthRow" type="enumeration">
      <ui:label>Trailer width</ui:label>
      <ui:description>The width of each individual trailer element</ui:description>
      <enumeration value="140px"/>
      <enumeration value="220px"/>
      <enumeration value="300px"/>
      <ui:value-if-unset>140px</ui:value-if-unset>
    </field>

    <field name="imagePositionRow" type="enumeration">
      <ui:label>Image position</ui:label>
      <ui:description>The position of the image within a trailer</ui:description>
      <enumeration value="left"/>
      <enumeration value="right"/>
      <ui:value-if-unset>left</ui:value-if-unset>
    </field>

    <field name="showTitleRow" type="boolean">
      <ui:label>Show title</ui:label>
      <!--      <ui:description></ui:description> XXX -->
      <ui:boolean-label value="true">Show the title of the content item</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the title of the content item</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="showIntroRow" type="boolean">
      <ui:label>Show lead text</ui:label>
      <ui:description>Enabling this will show a few lines of lead text from the related item.</ui:description>
      <ui:boolean-label value="true">Show lead text of the content item</ui:boolean-label>
      <ui:boolean-label value="false">Don't show lead text of the content item</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="maxCharactersRow" type="number">
      <ui:label>Max characters</ui:label>
      <ui:description>Maximum number of characters of the lead text that will be displayed.</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>###</format>
    </field>
  </field-group>

  <field-group name="trailers-widget-newsletter-fields">
    <field name="maxTrailersNewsletter" type="number">
      <ui:label>Number of trailers</ui:label>
      <ui:description>The number of trailers to be shown in the widget</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>##</format>
      <ui:value-if-unset>3</ui:value-if-unset>
    </field>

    <field name="showSectionNameNewsletter" type="boolean">
      <ui:label>Show section name</ui:label>
      <ui:description>When enabled, the home section of the first article is shown on top of the trailer
      </ui:description>
      <ui:boolean-label value="true">Show the name of the section</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the section name</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="showCommentCountNewsletter" type="boolean">
      <ui:label>Show Comment Count</ui:label>
      <ui:description>Boolean value to indicate if we should show comment count</ui:description>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
    <field name="trailerWidthNewsletter" type="enumeration">
      <ui:label>Trailer width</ui:label>
      <ui:description>The width of each individual trailer element</ui:description>
      <enumeration value="140px"/>
      <enumeration value="220px"/>
      <enumeration value="300px"/>
      <ui:value-if-unset>140px</ui:value-if-unset>
    </field>

    <field name="imagePositionNewsletter" type="enumeration">
      <ui:label>Image position</ui:label>
      <ui:description>The position of the image within a trailer</ui:description>
      <enumeration value="left"/>
      <enumeration value="right"/>
      <ui:value-if-unset>left</ui:value-if-unset>
    </field>

    <field name="showTitleNewsletter" type="boolean">
      <ui:label>Show title</ui:label>
      <!--      <ui:description></ui:description> XXX -->
      <ui:boolean-label value="true">Show the title of the content item</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the title of the content item</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="showIntroNewsletter" type="boolean">
      <ui:label>Show lead text</ui:label>
      <ui:description>Enabling this will show a few lines of lead text from the related item.</ui:description>
      <ui:boolean-label value="true">Show lead text of the content item</ui:boolean-label>
      <ui:boolean-label value="false">Don't show lead text of the content item</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="maxCharactersNewsletter" type="number">
      <ui:label>Max characters</ui:label>
      <ui:description>Maximum number of characters of the lead text that will be displayed.</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>###</format>
    </field>
  </field-group>

  <field-group name="trailers-widget-column-fields">
    <field name="maxTrailersColumn" type="number">
      <ui:label>Number of trailers</ui:label>
      <ui:description>The number of trailers to be shown in the widget</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>##</format>
      <ui:value-if-unset>3</ui:value-if-unset>
    </field>

    <field name="showSectionNameColumn" type="boolean">
      <ui:label>Show section name</ui:label>
      <ui:description>When enabled, the home section of the first article is shown on top of the trailer
      </ui:description>
      <ui:boolean-label value="true">Show the name of the section</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the section name</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>

    <field name="showCommentCountColumn" type="boolean">
      <ui:label>Show Comment Count</ui:label>
      <ui:description>Boolean value to indicate if we should show comment count</ui:description>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
    <field name="trailerWidthColumn" type="enumeration">
      <ui:label>Trailer Width</ui:label>
      <ui:description>The width of the trailer</ui:description>
      <enumeration value="140px"/>
      <enumeration value="220px"/>
      <enumeration value="300px"/>
      <ui:value-if-unset>140px</ui:value-if-unset>
    </field>

    <field name="imagePositionColumn" type="enumeration">
      <ui:label>Image Position</ui:label>
      <ui:description>The position of the image</ui:description>
      <enumeration value="top"/>
      <enumeration value="left"/>
      <enumeration value="right"/>
      <ui:value-if-unset>top</ui:value-if-unset>
    </field>

    <field name="maxItems" type="number">
      <ui:label>Max items</ui:label>
      <ui:description>The maximum number of articles to be displayed in each column</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>##</format>
      <ui:value-if-unset>1</ui:value-if-unset>
    </field>

    <field name="showTitleColumn" type="enumeration">
      <ui:label>Show title</ui:label>
      <ui:description>Controls the display of article title</ui:description>
      <enumeration value="first"/>
      <enumeration value="all"/>
      <enumeration value="none"/>
      <ui:value-if-unset>all</ui:value-if-unset>
    </field>

    <field name="showIntroColumn" type="enumeration">
      <ui:label>Show lead text</ui:label>
      <ui:description>Controls display of article leadtext</ui:description>
      <enumeration value="first"/>
      <enumeration value="all"/>
      <enumeration value="none"/>
      <ui:value-if-unset>first</ui:value-if-unset>
    </field>

    <field name="showImageColumn" type="enumeration">
      <ui:label>Show Image</ui:label>
      <ui:description>Toggles display of the image on the first, all or none of the items.</ui:description>
      <enumeration value="first"/>
      <enumeration value="all"/>
      <enumeration value="none"/>
      <ui:value-if-unset>first</ui:value-if-unset>
    </field>

    <field name="maxCharactersColumn" type="number">
      <ui:label>Max characters</ui:label>
      <ui:description>Maximum number of characters of the lead text that will be displayed.</ui:description>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <format>###</format>
    </field>
  </field-group>

  <field-group name="trailers-widget-advanced-fields">
    <field name="sectionUniqueName" type="basic" mime-type="text/plain">
      <ui:label>Section Unique Name</ui:label>
      <ui:description>Section uniquename of the section the widget will look into for a group with content to be
        displayed in the widget
      </ui:description>
    </field>

    <field name="contentType" type="basic" mime-type="text/plain">
      <ui:label>Content type</ui:label>
      <ui:description>A comma-separated list of content types</ui:description>
      <ui:value-if-unset>news</ui:value-if-unset>
    </field>

    <field name="imageVersion" type="basic" mime-type="text/plain">
      <ui:label>Image representation</ui:label>
      <ui:description>The name of the image representation to be used</ui:description>
    </field>

    <field name="softCrop" type="boolean">
      <ui:label>Soft cropping</ui:label>
      <ui:description>Defines if the widget should use the the original uncropped image or
        if the widget should ise a cropped image.
        Cropped images are recommended for full width images.
        Original image is recommended for portrait image
      </ui:description>
      <ui:boolean-label value="true">Use cropped image</ui:boolean-label>
      <ui:boolean-label value="false">Use original image</ui:boolean-label>
      <ui:value-if-unset>true</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
  </field-group>

  <!-- content type for trailers widget -->
  <content-type name="widget_trailers">
    <ui:icon>generic</ui:icon>
    <ui:label>Trailers Widget</ui:label>
    <ui:description>A widget that displays a sectionwise summary of articles</ui:description>
    <ui:title-field>title</ui:title-field>

    <panel name="general">
      <ui:label>General</ui:label>
      <ui:description>The main content fields</ui:description>
      <ref-field-group name="basic-widget-fields"/>
      <ref-field-group name="trailers-widget-general-fields"/>
    </panel>

    <panel name="row">
      <ui:label>Row</ui:label>
      <ui:description>The content fields related to row view</ui:description>
      <ref-field-group name="trailers-widget-row-fields"/>
    </panel>

    <panel name="column">
      <ui:label>Column</ui:label>
      <ui:description>The content fields related to column view</ui:description>
      <ref-field-group name="trailers-widget-column-fields"/>
    </panel>

    <panel name="newsletter">
      <ui:label>Newsletter</ui:label>
      <ui:description>The content fields related to newsletter view</ui:description>
      <ref-field-group name="trailers-widget-newsletter-fields"/>
    </panel>

    <panel name="advanced">
      <ui:label>Advanced</ui:label>
      <ui:description>The advanced configuration fields</ui:description>
      <ref-field-group name="basic-widget-style-fields"/>
      <ref-field-group name="trailers-widget-advanced-fields"/>
      <ref-field-group name="noPrint-fields"/>
    </panel>

    <panel name="caching">
      <ui:label>Caching</ui:label>
      <ui:description>Allows you to control web cache settings</ui:description>
      <ref-field-group name="caching-basic-fields"/>
      <ref-field-group name="cache-control-public-fields"/>
    </panel>

    <summary>
      <ui:label>Content Summary</ui:label>
      <field name="title" type="basic" mime-type="text/plain">
        <ui:label>Title</ui:label>
      </field>
    </summary>
  </content-type>
</content-types>