<?xml version="1.0" encoding="UTF-8"?>
<!--
 * File           : $Header: //depot/escenic/widget-framework/trunk/widget-framework-core/src/main/webapp/META-INF/escenic/publication-resources/escenic/content-type#2 $
 * Last edited by : $Author: shah $ $Date: 2010/05/10 $
 * Version        : $Revision: #2 $
 *
 * Copyright (C) 2009 Escenic AS.
 * All Rights Reserved.  No use, copying or distribution of this
 * work may be made except in accordance with a valid license
 * agreement from Escenic AS.  This notice must be included on
 * all copies, modifications and derivatives of this work.
-->

<content-types xmlns="http://xmlns.escenic.com/2008/content-type"
               xmlns:ui="http://xmlns.escenic.com/2008/interface-hints"
               xmlns:geocode="http://xmlns.escenic.com/2009/studio/plugin/geocode"
               xmlns:rep="http://xmlns.escenic.com/2009/representations"
               version="4">
  <!--Field group for popular list widget -->
  <!-- general fields -->
  <field-group name="popularList-general-fields">
    <field name="view" type="enumeration">
      <ui:label>View</ui:label>
      <ui:description>View used to render the widget</ui:description>
      <enumeration value="mostRead">
        <ui:label>Most read</ui:label>
      </enumeration>
      <enumeration value="mostEmailed">
        <ui:label>Most emailed</ui:label>
      </enumeration>
      <enumeration value="mostCommented">
        <ui:label>Most commented</ui:label>
      </enumeration>
      <ui:value-if-unset>mostRead</ui:value-if-unset>
    </field>
  </field-group>
  <!-- mostRead view fields-->
  <field-group name="popularList-mostRead-fields">
    <field name="maxArticlesRead" type="number">
      <ui:label>Maximum number of articles</ui:label>
      <ui:description>Maximum number of articles to be displayed in the rendered list</ui:description>
      <format>##</format>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <ui:value-if-unset>10</ui:value-if-unset>
    </field>
    <field name="sourceRead" type="enumeration">
      <ui:label>List articles from</ui:label>
      <enumeration value="all">
        <ui:label>All sections</ui:label>
      </enumeration>
      <enumeration value="current">
        <ui:label>Current section</ui:label>
      </enumeration>
      <enumeration value="custom">
        <ui:label>Custom section</ui:label>
      </enumeration>
      <ui:value-if-unset>all</ui:value-if-unset>
    </field>
    <field name="sectionUniqueNameRead" type="basic" mime-type="text/plain">
      <ui:label>Section unique name</ui:label>
      <ui:description>The unique name of the section from where articles will be fetched, including subsections
      </ui:description>
    </field>
    <field name="contentTypeRead" type="basic" mime-type="text/plain">
      <ui:label>Content type</ui:label>
      <ui:description>The type of contents those will be fetched from the section</ui:description>
      <ui:value-if-unset>news</ui:value-if-unset>
    </field>
    <field name="ageRead" type="number">
      <ui:label>Age (in Hours)</ui:label>
      <ui:description>The period, measured in hours, during which the contents were read or commented will be added.
      </ui:description>
      <format>####</format>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <ui:value-if-unset>24</ui:value-if-unset>
    </field>
    <field name="showCountRead" type="boolean">
      <ui:label>Show view counter</ui:label>
      <ui:description>If enabled, shows the number of page views each item has, after its headline.</ui:description>
      <ui:boolean-label value="true">Show the number of page views</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the number of page views</ui:boolean-label>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
  </field-group>
  <!-- mostEmailed view fields-->
  <field-group name="popularList-mostEmail-fields">
    <field name="maxArticlesEmail" type="number">
      <ui:label>Maximum number of articles</ui:label>
      <ui:description>Maximum number of articles to be displayed in the rendered list</ui:description>
      <format>##</format>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <ui:value-if-unset>10</ui:value-if-unset>
    </field>
    <field name="sourceEmail" type="enumeration">
      <ui:label>List articles from</ui:label>
      <enumeration value="all">
        <ui:label>All sections</ui:label>
      </enumeration>
      <enumeration value="current">
        <ui:label>Current section</ui:label>
      </enumeration>
      <enumeration value="custom">
        <ui:label>Custom section</ui:label>
      </enumeration>
      <ui:value-if-unset>all</ui:value-if-unset>
    </field>
    <field name="sectionUniqueNameEmail" type="basic" mime-type="text/plain">
      <ui:label>Section unique name</ui:label>
      <ui:description>The unique name of the section from where articles will be fetched, including subsections
      </ui:description>
    </field>
    <field name="contentTypeEmail" type="basic" mime-type="text/plain">
      <ui:label>Content type</ui:label>
      <ui:description>The type of contents those will be fetched from the section</ui:description>
      <ui:value-if-unset>news</ui:value-if-unset>
    </field>
    <field name="ageEmail" type="number">
      <ui:label>Age (in Hours)</ui:label>
      <ui:description>The period, measured in hours, during which the contents were read, emailed or commented will be
        added.
      </ui:description>
      <format>####</format>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <ui:value-if-unset>24</ui:value-if-unset>
    </field>
    <field name="showCountEmail" type="boolean">
      <ui:label>Show view counter</ui:label>
      <ui:description>If enabled, shows the number of page views each item has, after its headline.</ui:description>
      <ui:boolean-label value="true">Show the number of page views</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the number of page views</ui:boolean-label>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
  </field-group>

  <!-- mostCommented view fields-->
  <field-group name="popularList-mostCommented-fields">
    <field name="maxArticlesCommented" type="number">
      <ui:label>Maximum number of articles</ui:label>
      <ui:description>Maximum number of articles to be displayed in the rendered list</ui:description>
      <format>##</format>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <ui:value-if-unset>10</ui:value-if-unset>
    </field>
    <field name="sourceCommented" type="enumeration">
      <ui:label>List articles from</ui:label>
      <enumeration value="all">
        <ui:label>All sections</ui:label>
      </enumeration>
      <enumeration value="current">
        <ui:label>Current section</ui:label>
      </enumeration>
      <enumeration value="custom">
        <ui:label>Custom section</ui:label>
      </enumeration>
      <ui:value-if-unset>all</ui:value-if-unset>
    </field>
    <field name="sectionUniqueNameCommented" type="basic" mime-type="text/plain">
      <ui:label>Section unique name</ui:label>
      <ui:description>The unique name of the section from where articles will be fetched, including subsections
      </ui:description>
    </field>
    <field name="contentTypeCommented" type="basic" mime-type="text/plain">
      <ui:label>Content type</ui:label>
      <ui:description>The type of contents those will be fetched from the section</ui:description>
      <ui:value-if-unset>news</ui:value-if-unset>
    </field>
    <field name="ageCommented" type="number">
      <ui:label>Age (in Hours)</ui:label>
      <ui:description>The period, measured in hours, during which the contents were read or commented will be added.
      </ui:description>
      <format>####</format>
      <constraints>
        <minimum>1</minimum>
      </constraints>
      <ui:value-if-unset>24</ui:value-if-unset>
    </field>
    <field name="showCountCommented" type="boolean">
      <ui:label>Show comment count</ui:label>
      <ui:description>If enabled, shows the number of comments the item has, after the headline.</ui:description>
      <ui:boolean-label value="true">Show the number of comments</ui:boolean-label>
      <ui:boolean-label value="false">Don't show the number of comments</ui:boolean-label>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
  </field-group>
  <!-- advanced fields-->
  <field-group name="popularList-advanced-fields">
    <field name="showLeadtext" type="boolean">
      <ui:label>Show leadtext</ui:label>
      <ui:description>If enabled, leadtext will be displayed</ui:description>
      <ui:boolean-label value="true">Show leadtext</ui:boolean-label>
      <ui:boolean-label value="false">Don't show leadtext</ui:boolean-label>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
    <field name="maxLeadtextChar" type="number">
      <ui:label>Maximum no of characteters in lead text</ui:label>
      <constraints>
        <minimum>20</minimum>
      </constraints>
      <format>###</format>
    </field>
    <field name="showRelatedPicture" type="boolean">
      <ui:label>Show related picture</ui:label>
      <ui:description>If enabled, related picture will be displayed</ui:description>
      <ui:boolean-label value="true">Show related picure</ui:boolean-label>
      <ui:boolean-label value="false">Don't show related picture</ui:boolean-label>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
    <field name="imageVersion" type="basic" mime-type="text/plain">
      <ui:label>Image representation</ui:label>
      <ui:description>Image representation to be used for displaying related picture</ui:description>
      <ui:value-if-unset>w140</ui:value-if-unset>
    </field>
    <field name="showCommentCount" type="boolean">
      <ui:label>Show comment count</ui:label>
      <ui:description>Boolean value to indicate if we should show comment count</ui:description>
      <ui:value-if-unset>false</ui:value-if-unset>
      <constraints>
	      <required>true</required>
	    </constraints>
    </field>
  </field-group>

  <!--content type for popularList widget-->
  <content-type name="widget_popularList">
    <ui:icon>generic</ui:icon>
    <ui:label>Popular List Widget</ui:label>
    <ui:description>The widget that shows lists of most popular articles</ui:description>
    <ui:title-field>title</ui:title-field>

    <panel name="general">
      <ui:label>General</ui:label>
      <ui:description>The general fields for configuring popularList widget</ui:description>
      <ref-field-group name="basic-widget-fields"/>
      <ref-field-group name="popularList-general-fields"/>
    </panel>

    <panel name="mostRead">
      <ui:label>Most read</ui:label>
      <ui:description>The fields related to the Most Read view</ui:description>
      <ref-field-group name="popularList-mostRead-fields"/>
    </panel>

    <panel name="mostEmailed">
      <ui:label>Most emailed</ui:label>
      <ui:description>The fields related to the Most Emailed view</ui:description>
      <ref-field-group name="popularList-mostEmail-fields"/>
    </panel>

    <panel name="mostCommented">
      <ui:label>Most commented</ui:label>
      <ui:description>The fields related to the Most Commented view</ui:description>
      <ref-field-group name="popularList-mostCommented-fields"/>
    </panel>

    <panel name="advanced">
      <ui:label>Advanced</ui:label>
      <ui:description>The Advanced fields specially used for styling popularList widget</ui:description>
      <ref-field-group name="basic-widget-style-fields"/>
      <ref-field-group name="popularList-advanced-fields"/>
      <ref-field-group name="noPrint-fields"/>
    </panel>

    <panel name="caching">
      <ui:label>Caching</ui:label>
      <ui:description>Allows you to control web cache settings</ui:description>
      <ref-field-group name="caching-basic-fields"/>
      <ref-field-group name="cache-control-public-fields"/>
    </panel>

    <summary>
      <ui:label>Content Summary</ui:label>
      <field name="title" type="basic" mime-type="text/plain">
        <ui:label>Title</ui:label>
      </field>
    </summary>
  </content-type>
</content-types>