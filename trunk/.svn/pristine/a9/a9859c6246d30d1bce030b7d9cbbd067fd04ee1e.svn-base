<?xml version="1.0" encoding="UTF-8"?>
<!--
 * File           : $Header: //depot/escenic/widget-framework/trunk/widget-framework-core/src/main/webapp/META-INF/escenic/publication-resources/escenic/content-type#2 $
 * Last edited by : $Author: shah $ $Date: 2010/05/10 $
 * Version        : $Revision: #2 $
 *
 * Copyright (C) 2009 Escenic AS.
 * All Rights Reserved.  No use, copying or distribution of this
 * work may be made except in accordance with a valid license
 * agreement from Escenic AS.  This notice must be included on
 * all copies, modifications and derivatives of this work.
-->

<content-types xmlns="http://xmlns.escenic.com/2008/content-type"
               xmlns:ui="http://xmlns.escenic.com/2008/interface-hints"
               xmlns:geocode="http://xmlns.escenic.com/2009/studio/plugin/geocode"
               xmlns:rep="http://xmlns.escenic.com/2009/representations"
               version="4">
  <!-- field group for user profile -->
<!--  <field-group name="registration-fields">
    <field mime-type="text/plain" type="basic" name="firstname">
      <ui:label>First name</ui:label>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
      <parameter name="com.ndc.usercontent.constraint" value="notOnlyNumber()"/>
    </field>
    <field mime-type="text/plain" type="basic" name="surname">
      <ui:label>Surname</ui:label>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
      <parameter name="com.ndc.usercontent.constraint" value="notOnlyNumber()"/>
    </field>
    <field mime-type="text/plain" type="basic" name="username">
      <ui:label>Username</ui:label>
      <ui:description>This is your screen name and your login name</ui:description>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="neo.xredsys.service.article.attributeField" value="username"/>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
      <parameter name="com.ndc.usercontent.constraint" value="maxLength(30)"/>
      <parameter name="com.ndc.usercontent.constraint" value="minLength(3)"/>
      <parameter name="com.ndc.usercontent.constraint" value="userNameFormat()"/>
      <parameter name="com.ndc.usercontent.constraint" value="sectionNameUnique()"/>
      <parameter name="com.ndc.usercontent.constraint" value="allSectionNameUnique()"/>
      <parameter name="com.escenic.lucy.indexField" value="title"/>
    </field>
    <field mime-type="text/plain" type="basic" name="email">
      <ui:label>E-mail</ui:label>
      <ui:description>This is the email address where your login info will be sent to</ui:description>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
      <parameter name="com.ndc.usercontent.constraint" value="isEmail()"/>
    </field>
  </field-group>

  <field-group name="userInfo-fields">
    <field name="fullname" type="basic" mime-type="text/plain">
      <ui:label>Full Name</ui:label>
      <ui:description>The full name of the user</ui:description>
    </field>

    <field name="address" type="basic" mime-type="text/plain">
      <ui:label>Address</ui:label>
      <ui:layout rows="5" cols="40"/>
      <ui:description>Your mailing address</ui:description>
      <constraints>
        <required>false</required>
      </constraints>
    </field>

    <field name="phoneNumber" mime-type="text/plain" type="basic">
      <ui:label>Phone</ui:label>
      <ui:description>Your mobile phone number</ui:description>
      <constraints>
        <required>false</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="isPhoneNumber()"/>
    </field>

    <field name="profession" type="basic" mime-type="text/plain">
      <ui:label>Profession</ui:label>
      <ui:description>The profession of the user</ui:description>
    </field>

    <field name="interests" type="basic" mime-type="text/plain">
      <ui:label>Interests</ui:label>
      <ui:description>The interests of the user</ui:description>
    </field>
  </field-group>

  &lt;!&ndash; define avatar content field group &ndash;&gt;
  <field-group name="avatar">
    <field mime-type="text/plain" type="basic" name="title">
      <ui:label>File Name</ui:label>
      <ui:description>The file name of the picture</ui:description>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
    </field>

    <field mime-type="text/plain" type="basic" name="caption">
      <ui:label>Caption</ui:label>
      <ui:style>
        body { font-size: 200%; }
      </ui:style>
      <ui:description>The caption of this picture</ui:description>
    </field>

    <field mime-type="text/plain" type="basic" name="alttext">
      <ui:label>Alternative text</ui:label>
      <ui:description>The alttext of this picture</ui:description>
    </field>

    <field mime-type="text/plain" type="basic" name="description">
      <ui:label>Description</ui:label>
      <ui:description>The description of this picture</ui:description>
    </field>
  </field-group>

  &lt;!&ndash; field group for blog post &ndash;&gt;
  <field-group name="blogPost-basic-fields">
    <field mime-type="text/plain" type="basic" name="title">
      <ui:label>Title</ui:label>
      <ui:description>The title of the blog post</ui:description>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
    </field>

    <field mime-type="application/xhtml+xml" type="basic" name="body">
      <ui:label>Body</ui:label>
      <ui:description>The body text of the article.</ui:description>
      <ui:layout rows="10" cols="40"/>
      <constraints>
        <required>true</required>
      </constraints>
      <parameter name="com.ndc.usercontent.constraint" value="notEmpty()"/>
    </field>
  </field-group>

  &lt;!&ndash; relation type group for blog post &ndash;&gt;
  <relation-type-group name="blogPostAttachments">
    <relation-type name="pictureRel">
      <ui:label>Photo Relations</ui:label>
    </relation-type>
  </relation-type-group>

  &lt;!&ndash; content type definitions &ndash;&gt;
  <content-type name="avatar">
    <ui:icon>image</ui:icon>
    <ui:label>Avatar</ui:label>
    <ui:description>Avatar picture</ui:description>
    <ui:title-field>title</ui:title-field>
    <parameter name="com.escenic.index.summary.fields" value="caption"/>

    <panel name="default">
      <ui:label>Avatar content</ui:label>
      <ref-field-group name="avatar"/>

      <field name="binary" type="link">
        <relation>com.escenic.edit-media</relation>
        <constraints>
          <mime-type>image/jpeg</mime-type>
          <mime-type>image/png</mime-type>
          <mime-type>image/gif</mime-type>
        </constraints>
      </field>
    </panel>

    <panel name="crop">
      <ui:label>Soft Crop</ui:label>
      <field name="alternates" type="basic" mime-type="application/json">
        <representations xmlns="http://xmlns.escenic.com/2009/representations" type="image-versions">
          <representation name="w24">
            <ui:label>24 pixels width</ui:label>
            <output width="24" height="24"/>
            <crop/>
            <resize/>
          </representation>

          <representation name="w48">
            <ui:label>48 pixels width</ui:label>
            <output width="48" height="48"/>
            <crop/>
            <resize/>
          </representation>

          <representation name="w64">
            <ui:label>64 pixels width</ui:label>
            <output width="64" height="64"/>
            <crop/>
            <resize/>
          </representation>

          <representation name="w96">
            <ui:label>96 pixels width</ui:label>
            <output width="96" height="96"/>
            <crop/>
            <resize/>
          </representation>
        </representations>
      </field>
    </panel>

    <summary>
      <ui:label>Content Summary</ui:label>
      <field name="title" type="basic" mime-type="text/plain">
        <ui:label>Name</ui:label>
      </field>
      <field name="caption" type="basic" mime-type="text/plain">
        <ui:label>Caption</ui:label>
      </field>
      <field name="alttext" type="basic" mime-type="text/plain">
        <ui:label>Alttext</ui:label>
      </field>
    </summary>
  </content-type>

  <content-type name="blogPost">
    <ui:icon>generic</ui:icon>
    <ui:label>Blog Post</ui:label>
    <ui:description>A blog post</ui:description>
    <ui:title-field>title</ui:title-field>
    <ui:decorator class="com.escenic.framework.decorator.BodyIterator"/>
    <parameter name="com.escenic.index.summary.fields" value="leadtext quote"/>
    <parameter name="com.ndc.qualification.allowFlagging" value="true"/>

    <panel name="default">
      <ui:label>Main Content</ui:label>
      <ui:description>The main content fields</ui:description>
      <ref-field-group name="blogPost-basic-fields"/>
    </panel>

    <ref-relation-type-group name="blogPostAttachments"/>
    <ref-relation-type-group name="forumAttachments"/>

    <summary>
      <ui:label>Content Summary</ui:label>
      <field name="title" type="basic" mime-type="text/plain">
        <ui:label>Title</ui:label>
      </field>
    </summary>
  </content-type>

  &lt;!&ndash; content-type for user profile &ndash;&gt;
  <content-type name="userProfile">
    <ui:label>User profile</ui:label>
    <ui:title-field>fullname</ui:title-field>
    <parameter name="com.escenic.community.articleType" value="userProfile"/>
    <parameter name="com.escenic.articleType" value="profile"/>
    <parameter name="neo.xredsys.service.article.attribute" value="true"/>
    <parameter name="com.ndc.usercontent.sectionNameField" value="username"/>
    <parameter name="com.ndc.usercontent.usernameField" value="username"/>
    <parameter name="com.ndc.usercontent.firstNameField" value="firstname"/>
    <parameter name="com.ndc.usercontent.surNameField" value="surname"/>
    <parameter name="com.ndc.usercontent.emailAddressField" value="email"/>
    <parameter name="com.ndc.usercontent.mobilePhoneField" value="mobilePhone"/>

    <panel name="registration">
      <ui:label>Account information</ui:label>
      <ui:description>User registration information</ui:description>
      <ref-field-group name="registration-fields"/>
    </panel>

    <panel name="userInfo">
      <ui:label>Personal information</ui:label>
      <ui:description>Personal information of the user</ui:description>
      <ref-field-group name="userInfo-fields"/>
    </panel>
    <ref-relation-type-group name="userProfileAttachments"/>
  </content-type>

  <relation-type-group name="userProfileAttachments">
    <relation-type name="profilePictures">
      <ui:label>Profile Pictures</ui:label>
    </relation-type>
  </relation-type-group>

  <ui:group name="avatar">
    <ui:label>Avatar</ui:label>
    <ui:ref-content-type name="avatar"/>
  </ui:group>

   <ui:group name="userProfiles">
    <ui:label>User profiles</ui:label>
    <ui:ref-content-type name="userProfile"/>
  </ui:group>-->
</content-types>